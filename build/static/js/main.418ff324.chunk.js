(this["webpackJsonpcelo-freelancer-marketplace-dapp"]=this["webpackJsonpcelo-freelancer-marketplace-dapp"]||[]).push([[0],{403:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"uint256","name":"_index","type":"uint256"},{"internalType":"string","name":"_newDescription","type":"string"}],"name":"changeDescription","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_index","type":"uint256"},{"internalType":"uint256","name":"_newPrice","type":"uint256"}],"name":"changePrice","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_index","type":"uint256"}],"name":"getFreelancers","outputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"string","name":"","type":"string"},{"internalType":"string","name":"","type":"string"},{"internalType":"string","name":"","type":"string"},{"internalType":"string","name":"","type":"string"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getFreelancersLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_index","type":"uint256"},{"internalType":"uint256","name":"_hours","type":"uint256"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"hireFreelancerHourly","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_image","type":"string"},{"internalType":"string","name":"_name","type":"string"},{"internalType":"string","name":"_title","type":"string"},{"internalType":"string","name":"_description","type":"string"},{"internalType":"uint256","name":"_price","type":"uint256"}],"name":"newFreelancer","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_index","type":"uint256"}],"name":"toggleAvailable","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},404:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')},412:function(e,t,n){},414:function(e,t,n){},430:function(e,t){},431:function(e,t){},433:function(e,t){},437:function(e,t){},461:function(e,t){},463:function(e,t){},477:function(e,t){},479:function(e,t){},507:function(e,t){},509:function(e,t){},526:function(e,t){},527:function(e,t){},600:function(e,t){},601:function(e,t){},693:function(e,t){},698:function(e,t){},880:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(59),s=n.n(c),i=(n(412),n(67)),l=n(18),o=n(24),u=n.n(o),p=(n(414),n(889)),d=n(883),b=n(888),j=n(884),y=n(885),m=n(891),f=n(890),h=n(398),x=n(1),O=function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(""),i=Object(l.a)(s,2),o=i[0],u=i[1],O=Object(a.useState)(""),g=Object(l.a)(O,2),v=g[0],w=g[1],T=Object(a.useState)(""),k=Object(l.a)(T,2),C=k[0],F=k[1],N=Object(a.useState)(""),S=Object(l.a)(N,2),A=S[0],D=S[1],M=Object(a.useState)(!1),_=Object(l.a)(M,2),B=_[0],I=_[1],E=function(){return I(!1)};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(p.a,{bg:"light",children:Object(x.jsxs)(d.a,{children:[Object(x.jsx)(p.a.Brand,{href:"#home",children:"FreeLancer Marketplace"}),Object(x.jsx)(p.a.Toggle,{}),Object(x.jsx)(b.a,{className:"me-auto",children:Object(x.jsxs)(j.a,{bg:"secondary",className:"ms-auto",children:["Balance ",e.cUSDBalance,"cUSD"]})}),Object(x.jsx)(p.a.Collapse,{className:"justify-content-end",children:Object(x.jsx)(y.a,{onClick:function(){return I(!0)},variant:"dark",children:Object(x.jsx)("h5",{children:" New freelancer "})})})]})}),Object(x.jsxs)(m.a,{show:B,onHide:E,centered:!0,children:[Object(x.jsx)(m.a.Header,{closeButton:!0,children:Object(x.jsx)(m.a.Title,{children:"New Freelancer"})}),Object(x.jsx)(f.a,{children:Object(x.jsxs)(m.a.Body,{children:[Object(x.jsx)(h.a,{controlId:"inputImage",label:"Image",className:"mb-3",children:Object(x.jsx)(f.a.Control,{type:"text",onChange:function(e){c(e.target.value)},placeholder:"Image"})}),Object(x.jsx)(h.a,{controlId:"inputName",label:"name",className:"mb-3",children:Object(x.jsx)(f.a.Control,{type:"text",onChange:function(e){u(e.target.value)},placeholder:"Enter name"})}),Object(x.jsx)(h.a,{controlId:"inputTitle",label:"title",className:"mb-3",children:Object(x.jsx)(f.a.Control,{type:"text",onChange:function(e){w(e.target.value)},placeholder:"Enter Career title"})}),Object(x.jsx)(h.a,{controlId:"inputDescription",label:"Description",className:"mb-3",children:Object(x.jsx)(f.a.Control,{as:"textarea",placeholder:"Enter carrer description",style:{height:"80px"},onChange:function(e){F(e.target.value)}})}),Object(x.jsx)(h.a,{controlId:"inputPrice",label:"price",className:"mb-3",children:Object(x.jsx)(f.a.Control,{type:"number",onChange:function(e){D(e.target.value)},placeholder:"Enter price per hour"})})]})}),Object(x.jsxs)(m.a.Footer,{children:[Object(x.jsx)(y.a,{variant:"outline-secondary",onClick:E,children:"Close"}),Object(x.jsx)(y.a,{variant:"dark",disabled:!(r&&o&&v&&C&&A),onClick:function(){e.addFreelancer(r,o,v,C,A),E()},children:"Add new freelancer"})]})]})]})},g=n(886),v=n(397),w=n(892),T=n(893),k=function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(""),i=Object(l.a)(s,2),o=i[0],u=i[1],p=Object(a.useState)(""),d=Object(l.a)(p,2),b=d[0],y=d[1];return Object(x.jsx)(g.a,{xs:1,md:3,className:"g-4",children:e.freelancers.map((function(t){return Object(x.jsx)(v.a,{children:Object(x.jsxs)(w.a,{className:"h-100",children:[Object(x.jsx)(w.a.Header,{children:Object(x.jsxs)(T.a,{direction:"horizontal",gap:2,children:[Object(x.jsxs)(j.a,{bg:"secondary",className:"ms-auto",children:[t.index," ID"]}),Object(x.jsxs)(j.a,{bg:"secondary",className:"ms-auto",children:[t.price," cUSD per hour"]}),Object(x.jsxs)(j.a,{bg:"secondary",className:"ms-auto",children:[t.noOfJobs," Jobs Done"]})]})}),Object(x.jsx)("div",{className:" ratio ratio-4x3",children:Object(x.jsx)("img",{src:t.image,alt:t.description,style:{objectFit:"cover"}})}),Object(x.jsxs)(w.a.Body,{className:"d-flex  flex-column text-center",children:[Object(x.jsx)(w.a.Title,{className:"flex-grow-1",children:t.name}),Object(x.jsx)(w.a.Title,{className:"flex-grow-1",children:t.title}),Object(x.jsx)(w.a.Text,{className:"flex-grow-1",children:t.description}),Object(x.jsxs)(j.a,{bg:"secondary",className:"ms-auto",children:[t.available?"Available for Hire":"Not Available"," ",t.available]}),t.freelancerAddress===e.walletAddress&&Object(x.jsx)("button",{type:"button",onClick:function(){return e.toggleAvailable(t.index)},class:"btn btn-dark btn-sm mt-1",children:t.available?"Set to Not Available":"Set to Available"}),t.freelancerAddress!==e.walletAddress&&!0===t.available&&Object(x.jsx)("form",{children:Object(x.jsxs)("div",{class:"form-r",children:[Object(x.jsx)("input",{type:"number",class:"form-control mt-3",value:o,onChange:function(e){return u(e.target.value)},placeholder:"enter duration in hours"}),Object(x.jsx)("button",{type:"button",onClick:function(){return e.hireFreelancer(t.index,o)},class:"btn btn-dark mt-1",children:"Hire this freelancer"})]})}),t.freelancerAddress===e.walletAddress&&Object(x.jsx)("form",{children:Object(x.jsxs)("div",{class:"form-r",children:[Object(x.jsx)("input",{type:"number",class:"form-control mt-3",value:r,onChange:function(e){return c(e.target.value)},placeholder:"enter new price"}),Object(x.jsx)("button",{type:"button",onClick:function(){return e.changePrice(t.index,r)},class:"btn btn-dark mt-1",children:"Update Hourly Rate"})]})}),t.freelancerAddress===e.walletAddress&&Object(x.jsx)("form",{children:Object(x.jsxs)("div",{class:"form-r",children:[Object(x.jsx)("input",{type:"text",class:"form-control mt-3",value:b,onChange:function(e){return y(e.target.value)},placeholder:"enter new description"}),Object(x.jsx)("button",{type:"button",onClick:function(){return e.changeDescription(t.index,b)},class:"btn btn-dark mt-1",children:"Change Description"})]})})]})]})},t.index)}))})},C=n(399),F=n.n(C),N=n(402),S=n(403),A=n(404),D=n(30),M=n.n(D),_="0xA371b0718b07026D87F2606295562e86Fa3Dd364";var B=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(null),s=Object(l.a)(c,2),o=s[0],p=s[1],d=Object(a.useState)(null),b=Object(l.a)(d,2),j=b[0],y=b[1],m=Object(a.useState)(0),f=Object(l.a)(m,2),h=f[0],g=f[1],v=Object(a.useState)([]),w=Object(l.a)(v,2),T=w[0],C=w[1],D=function(){var e=Object(i.a)(u.a.mark((function e(){var t,n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.celo){e.next=22;break}return e.prev=1,e.next=4,window.celo.enable();case 4:return t=new F.a(window.celo),n=Object(N.newKitFromWeb3)(t),e.next=8,n.web3.eth.getAccounts();case 8:return a=e.sent,r=a[0],n.defaultAccount=r,e.next=13,p(r);case 13:return e.next=15,y(n);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(e.t0);case 20:e.next=23;break;case 22:alert("Error Occurred");case 23:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(){return e.apply(this,arguments)}}(),B=Object(a.useCallback)(Object(i.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.getTotalBalance(o);case 3:t=e.sent,n=t.cUSD.shiftedBy(-18).toFixed(2),a=new j.web3.eth.Contract(S,_),r(a),g(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),[o,j]),I=Object(a.useCallback)(Object(i.a)(u.a.mark((function e(){var t,a,r,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.methods.getFreelancersLength().call();case 2:for(t=e.sent,a=[],r=function(e){var t=new Promise(function(){var t=Object(i.a)(u.a.mark((function t(a,r){var c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.methods.getFreelancers(e).call();case 2:c=t.sent,a({index:e,freelancerAddress:c[0],image:c[1],name:c[2],title:c[3],description:c[4],price:c[5],noOfJobs:c[6],available:c[7]});case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());a.push(t)},c=0;c<t;c++)r(c);return e.next=8,Promise.all(a);case 8:s=e.sent,C(s);case 10:case"end":return e.stop()}}),e)}))),[n]),E=function(){var e=Object(i.a)(u.a.mark((function e(t,a,r,c,s){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.methods.newFreelancer(t,a,r,c,s).send({from:o});case 3:I(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,a,r,c){return e.apply(this,arguments)}}(),P=function(){var e=Object(i.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.methods.changeDescription(t,a).send({from:o});case 3:I(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),H=function(){var e=Object(i.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.methods.changePrice(t,a).send({from:o});case 3:I(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),J=function(){var e=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.methods.toggleAvailable(t).send({from:o});case 3:I(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(i.a)(u.a.mark((function e(t,a){var r,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=new j.web3.eth.Contract(A,"0x874069Fa1Eb16D44d622F2e0Ca25eeA172369bC1"),c=a*T[t].price,s=new M.a(c).shiftedBy(18).toString(),console.log(c),e.next=7,r.methods.approve(_,s).send({from:o});case 7:return e.next=9,n.methods.hireFreelancerHourly(t,a,s).send({from:o});case 9:I(),B(),alert("you have successfully sent cusd to this user"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),alert(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){D()}),[]),Object(a.useEffect)((function(){j&&o&&B()}),[j,o,B]),Object(a.useEffect)((function(){n&&I()}),[n,I]),Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)(O,{cUSDBalance:h,addFreelancer:E}),Object(x.jsx)(k,{freelancers:T,hireFreelancer:U,changeDescription:P,changePrice:H,walletAddress:o,toggleAvailable:J})]})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,894)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};n(876),n(877);s.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(B,{})}),document.getElementById("root")),I()}},[[880,1,2]]]);
//# sourceMappingURL=main.418ff324.chunk.js.map